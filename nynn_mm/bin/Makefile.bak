vpath %.cc ../src ../test
ifdef dbg
DEBUG:=-DDEBUG -g -ggdb3 -rdynamic
endif
nynndir=/usr/nynn
CXXFLAGS+= -std=c++0x -I ../inc -I $(nynndir)/inc -L $(nynndir)/lib -pthread -lrt -lnynn $(DEBUG) -fPIC
testloadconfig:testloadconfig.o
	$(CXX) $(CXXFLAGS) -o $@ $^
testgetarraylist:testgetarraylist.o
	$(CXX) $(CXXFLAGS) -o $@ $^
testContext:testContext.o
	$(CXX) $(CXXFLAGS) -o $@ $^
testProcessOnce:testProcessOnce.o
	$(CXX) $(CXXFLAGS) -o $@ $^
testlocal:testlocal.o
	$(CXX) $(CXXFLAGS) -o $@ $^
testMapFile:testMapFile.o
	$(CXX) $(CXXFLAGS) -o $@ $^
testNynnError:testNynnError.o
	$(CXX) $(CXXFLAGS) -o $@ $^

%.o:%.cc
	$(CXX) $(CXXFLAGS) -c -o $@ $^

clean:
	rm -fr `ls|grep -vi makefile`
